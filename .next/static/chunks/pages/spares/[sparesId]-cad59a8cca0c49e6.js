(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[982],{604:function(e,s,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/spares/[sparesId]",function(){return l(5252)}])},5252:function(e,s,l){"use strict";l.r(s);var r=l(5893),a=l(6154),i=l(7294),d=l(1163),c=l(3052),t=l(2879),n=l(1819),x=l(1664),o=l.n(x),f=l(9603),m=l(9417);let h=()=>{let[e,s]=(0,i.useState)(!0),[l,x]=(0,i.useState)(!1),[h,b]=(0,i.useState)(!1),u=(0,d.useRouter)(),[j,w]=(0,i.useState)([]),[N,v]=(0,i.useState)(!1),[p,y]=(0,i.useState)(""),[g,_]=(0,i.useState)({id:0,name:""}),S=parseInt(u.asPath.split("/")[2]);(0,i.useEffect)(()=>{E()},[]);let E=()=>{s(!0),b(!1),x(!1),P()},P=async()=>{try{let e=await a.Z.get("http://localhost:3001/spares/".concat(S),{headers:{Authorisation:"Bearer "+localStorage.getItem("token")}});0===e.data.length?x(!0):w(e.data),s(!1)}catch(l){b(!0),s(!1)}},k=()=>{y("addEditSparesItem"),_({id:S,name:j[0].name}),v(!0)},T=j.map(e=>(0,r.jsxs)("div",{className:"w-full h-full flex flex-row",children:[(0,r.jsxs)("div",{className:"ml-10 mb-4 w-4/5 max-w-lg",children:[(0,r.jsxs)("div",{className:"flex flex-row h-6 mb-3",children:[(0,r.jsx)("div",{className:"w-1/2 pl-1 border-b-2",children:"Part Number: "}),(0,r.jsx)("div",{className:"w-1/2 border-b-2 flex flex-row justify-center",children:e.part_no})]}),(0,r.jsxs)("div",{className:"flex flex-row h-6 mb-3",children:[(0,r.jsx)("div",{className:"w-1/2 pl-1 border-b-2",children:"Name: "}),(0,r.jsx)("div",{className:"w-1/2 border-b-2 flex flex-row justify-center",children:e.name})]}),(0,r.jsxs)("div",{className:"flex flex-row h-6 mb-3",children:[(0,r.jsx)("div",{className:"w-1/2 pl-1 border-b-2",children:"Manufacturers Part Number: "}),(0,r.jsx)("div",{className:"w-1/2 border-b-2 flex flex-row justify-center",children:e.man_part_no})]}),(0,r.jsxs)("div",{className:"flex flex-row h-6 mb-3",children:[(0,r.jsx)("div",{className:"w-1/2 pl-1 border-b-2",children:"Manufacturers Part Name: "}),(0,r.jsx)("div",{className:"w-1/2 border-b-2 flex flex-row justify-center",children:e.man_name})]}),(0,r.jsxs)("div",{className:"flex flex-row h-6 mb-3",children:[(0,r.jsx)("div",{className:"w-1/2 pl-1 border-b-2",children:"Location: "}),(0,r.jsx)("div",{className:"w-1/2 border-b-2 flex flex-row justify-center",children:e.location})]}),(0,r.jsxs)("div",{className:"flex flex-row h-6 mb-3",children:[(0,r.jsx)("div",{className:"w-1/2 pl-1 border-b-2",children:"Quantity Remaining: "}),(0,r.jsx)("div",{className:"w-1/2 border-b-2 flex flex-row justify-center",children:e.quant_remain})]}),(0,r.jsxs)("div",{className:"flex flex-row h-6 mb-3",children:[(0,r.jsx)("div",{className:"w-1/2 pl-1 border-b-2",children:"Supplier: "}),(0,r.jsx)("div",{className:"w-1/2 border-b-2 flex flex-row justify-center",children:e.supplier})]}),(0,r.jsxs)("div",{className:"flex flex-row h-6 mb-3",children:[(0,r.jsx)("div",{className:"w-1/2 pl-1 border-b-2",children:"Reorder Frequency: "}),(0,r.jsx)("div",{className:"w-1/2 border-b-2 flex flex-row justify-center",children:e.reorder_freq})]}),(0,r.jsxs)("div",{className:"flex flex-row h-6 mb-3",children:[(0,r.jsx)("div",{className:"w-1/2 pl-1 border-b-2",children:"Reorder Amount: "}),(0,r.jsx)("div",{className:"w-1/2 border-b-2 flex flex-row justify-center",children:e.reorder_num})]}),(0,r.jsxs)("div",{className:"flex flex-row h-6 mb-3",children:[(0,r.jsx)("div",{className:"w-1/2 pl-1 border-b-2",children:"Avg Usage per Month: "}),(0,r.jsx)("div",{className:"w-1/2 border-b-2 flex flex-row justify-center",children:e.avg_usage})]}),(0,r.jsxs)("div",{className:"flex flex-row h-6 mb-3",children:[(0,r.jsx)("div",{className:"w-1/2 pl-1 border-b-2",children:"Cost per item: "}),(0,r.jsx)("div",{className:"w-1/2 border-b-2 flex flex-row justify-center",children:e.cost})]}),(0,r.jsxs)("div",{className:"flex flex-row h-6 mb-3",children:[(0,r.jsx)("div",{className:"w-1/2 pl-1 border-b-2",children:"Next Delivery Due: "}),(0,r.jsx)("div",{className:"w-1/2 border-b-2 flex flex-row justify-center",children:"Wednesday"})]}),(0,r.jsxs)("div",{className:"flex flex-row h-6 mb-3",children:[(0,r.jsx)("div",{className:"w-1/2 pl-1 border-b-2",children:"Next Delivery Quantity Expected: "}),(0,r.jsx)("div",{className:"w-1/2 border-b-2 flex flex-row justify-center",children:"15"})]})]}),(0,r.jsxs)("div",{className:" p-6 flex flex-col w-full",children:[(0,r.jsxs)("div",{className:"h-[50%] outline outline-blue-600 outline-2 p-2 overflow-y-auto",children:[(0,r.jsx)("p",{children:(0,r.jsx)("b",{children:"Description: "})}),e.description]}),(0,r.jsxs)("div",{className:"h-[50%] outline outline-blue-600 outline-2 p-2 overflow-y-auto",children:[(0,r.jsx)("p",{children:(0,r.jsx)("b",{children:"Notes: "})}),e.notes]})]},Math.random())]},e.id));return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"w-full h-full pt-12 overflow-x-auto overflow-y-auto bg-gray-100",children:[(0,r.jsxs)("div",{className:"fixed top-0 left-52 right-0 z-10 bg-gray-200 h-12 border-b-2 border-gray-300 flex flex-row justify-start items-center",children:[(0,r.jsxs)(o(),{href:"/spares",className:"ml-8 hover:text-blue-600 flex flex-row items-center",children:[(0,r.jsx)(f.G,{icon:m.acZ,className:"mr-1 w-3"}),(0,r.jsx)("p",{children:"Return to all Spares"})]}),(0,r.jsxs)("button",{onClick:()=>k(),className:"ml-8 hover:text-blue-600 flex flex-row items-center",children:[(0,r.jsx)(f.G,{icon:m.TzT,className:"mr-1 w-3"}),"Edit Spares Item"]})]}),N?(0,r.jsx)(t.Z,{modalType:p,payload:g,closeModal:()=>[v(!1),E()]}):null,e?(0,r.jsx)(c.Z,{}):l?(0,r.jsx)("div",{children:"There has been an issue getting the Property Data"}):h?(0,r.jsx)(n.Z,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex flex-col xl:flex-row",children:T}),(0,r.jsx)("div",{children:"5 most recent jobs that used one"})]})]})})};s.default=h}},function(e){e.O(0,[976,603,879,774,888,179],function(){return e(e.s=604)}),_N_E=e.O()}]);